(this["webpackJsonppoc-easytimer-react"]=this["webpackJsonppoc-easytimer-react"]||[]).push([[0],{68:function(e,t,a){},69:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var o=a(7),n=a(0),r=a.n(n),s=a(11),c=a.n(s),l=(a(68),a(12)),i=(a(69),a(117)),u=a(122),m=a(131),d=a(40),j=a(123),g=a(126),b=a(77),p=a(124),O=a(129),h=a(125),v=a(132);Object(i.a)({avatar:{backgroundColor:d.a[100],color:d.a[600]}});var f=function(e){var t=e.onClose,a=e.open,r=e.pomodoroTime,s=e.shortBreakTime,c=e.longBreakTime,i=e.longBreakInterval,d=e.autoStartRound,f=e.setPomodoroTime,k=e.setShortBreakTime,S=e.setLongBreakTime,I=e.setLongBreakInterval,x=e.setAutoStartRound,B=Object(n.useState)(r),T=Object(l.a)(B,2),y=T[0],w=T[1],C=Object(n.useState)(s),P=Object(l.a)(C,2),V=P[0],L=P[1],E=Object(n.useState)(c),R=Object(l.a)(E,2),A=R[0],F=R[1],M=Object(n.useState)(i),W=Object(l.a)(M,2),J=W[0],D=W[1],N=Object(n.useState)(d),U=Object(l.a)(N,2),$=U[0],q=U[1];return Object(o.jsxs)(m.a,{onClose:function(){t()},"aria-labelledby":"settings-dialog-title",open:a,children:[Object(o.jsx)(u.a,{id:"settings-dialog-title",children:"Settings"}),Object(o.jsx)(j.a,{children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{style:{textAlign:"center"},children:[Object(o.jsx)(O.a,{label:"Pomodoro Time",type:"number",InputLabelProps:{shrink:!0},margin:"normal",style:{width:"30%",margin:".5rem"},variant:"outlined",defaultValue:r,onChange:function(e){parseInt(e.target.value)>=1&&parseInt(e.target.value)<=60?w(parseInt(e.target.value)):w(parseInt(r))}}),Object(o.jsx)(O.a,{label:"Short Break Time",type:"number",InputLabelProps:{shrink:!0},margin:"normal",min:"1",variant:"outlined",style:{width:"30%",margin:".5rem"},defaultValue:s,onChange:function(e){parseInt(e.target.value)>=1&&parseInt(e.target.value)<=60?L(parseInt(e.target.value)):L(parseInt(s))}}),Object(o.jsx)(O.a,{width:"sm",label:"Long Break Time",type:"number",InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:60,min:1}},margin:"normal",variant:"outlined",style:{width:"30%",margin:".5rem"},defaultValue:c,onChange:function(e){parseInt(e.target.value)>=1&&parseInt(e.target.value)<=60?F(parseInt(e.target.value)):F(parseInt(c))}})]}),Object(o.jsx)(p.a,{variant:"middle",style:{margin:"1rem"}}),Object(o.jsx)("div",{children:Object(o.jsx)(h.a,{control:Object(o.jsx)(O.a,{width:"sm",type:"number",InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:60,min:1}},margin:"normal",style:{margin:".5rem"},defaultValue:i,onChange:function(e){parseInt(e.target.value)>=1?D(parseInt(e.target.value)):D(parseInt(i))}}),label:"Long Break Interval:",labelPlacement:"start"})}),Object(o.jsx)(p.a,{variant:"middle",style:{margin:"1rem"}}),Object(o.jsx)("div",{children:Object(o.jsx)(h.a,{control:Object(o.jsx)(v.a,{checked:$,onChange:function(e){q(!$)},name:"checkedB",color:"primary"}),label:"Auto start next round?",labelPlacement:"start"})})]})}),Object(o.jsx)(g.a,{children:Object(o.jsx)(b.a,{onClick:function(){f(y),k(V),S(A),I(J),x($),t()},color:"primary",children:"Save"})})]})},k=a(127),S=a(52),I=a(128),x=a(50),B=a.n(x),T=(a(75),a(42)),y=a.p+"static/media/click.38da6178.mp4",w=a.p+"static/media/complete.8b65bc34.mp4";var C=function(){var e=Object(T.a)(y),t=Object(l.a)(e,1)[0],a=Object(T.a)(w),s=Object(l.a)(a,1)[0],c=Object(n.useState)("pomodoro"),i=Object(l.a)(c,2),u=i[0],m=i[1],d=Object(n.useState)(localStorage.getItem("pomodoroTime")?parseInt(localStorage.getItem("pomodoroTime")):25),j=Object(l.a)(d,2),g=j[0],O=j[1],h=Object(n.useState)(localStorage.getItem("shortBreakTime")?parseInt(localStorage.getItem("shortBreakTime")):5),v=Object(l.a)(h,2),x=v[0],C=v[1],P=Object(n.useState)(localStorage.getItem("longBreakTime")?parseInt(localStorage.getItem("longBreakTime")):15),V=Object(l.a)(P,2),L=V[0],E=V[1],R=Object(n.useState)(new B.a),A=Object(l.a)(R,1)[0],F=Object(n.useState)(g),M=Object(l.a)(F,2),W=M[0],J=M[1],D=Object(n.useState)(W),N=Object(l.a)(D,2),U=N[0],$=N[1],q=Object(n.useState)(0),z=Object(l.a)(q,2),G=z[0],H=z[1],K=Object(n.useState)(!0),Q=Object(l.a)(K,2),X=Q[0],Y=Q[1],Z=Object(n.useState)(localStorage.getItem("longBreakInterval")?parseInt(localStorage.getItem("longBreakInterval")):4),_=Object(l.a)(Z,2),ee=_[0],te=_[1],ae=Object(n.useState)(0),oe=Object(l.a)(ae,2),ne=oe[0],re=oe[1],se=Object(n.useState)("true"===localStorage.getItem("autoStartRound")),ce=Object(l.a)(se,2),le=ce[0],ie=ce[1],ue=function(e,t){return String(e).padStart(t,"0")};Object(n.useEffect)((function(){console.log("tick.."),document.title=U+":"+ue(G,2),A.getTimeValues().minutes<=0&&A.getTimeValues().seconds<=0&&U<=0&&(s(),console.log("done"),"pomodoro"===u?(re(ne+1),console.log("Modulo: "+(ne+1)%ee),(ne+1)%ee===0?(console.log("starting long break"),m("longBreak")):m("shortBreak"),console.log("completed pomodoro")):(m("pomodoro"),console.log("completed break")))}),[G,U]),Object(n.useEffect)((function(){A.addEventListener("secondsUpdated",(function(e){$(A.getTimeValues().minutes),H(A.getTimeValues().seconds)})),A.addEventListener("reset",(function(e){$(A.getTimeValues().minutes),H(A.getTimeValues().seconds)}))}),[]),Object(n.useEffect)((function(){A.stop(),"pomodoro"===u?(J(g),A.start({countdown:!0,startValues:{minutes:g}})):"shortBreak"===u?(J(x),A.start({countdown:!0,startValues:{minutes:x}})):(J(L),A.start({countdown:!0,startValues:{minutes:L}})),A.reset(),le||(A.pause(),Y(!0))}),[u]),Object(n.useEffect)((function(){var e;localStorage.setItem("pomodoroTime",g),localStorage.setItem("shortBreakTime",x),localStorage.setItem("longBreakTime",L),"pomodoro"===u?(J(g),e=g-W):"shortBreak"===u?(J(x),e=x-W):(J(L),e=L-W);var t=A.getTimeValues().minutes,a=A.getTimeValues().seconds;A.stop(),console.log("Minutes: "+(t+e)),console.log("Seconds: "+a),t+e<=0&&a<=0||t+e<0?(console.log("Over"),A.start({countdown:!0,startValues:{minutes:0,seconds:1}})):(A.start({countdown:!0,startValues:{minutes:t+e,seconds:a}}),$(t+e),H(a)),X&&A.pause()}),[g,x,L]),Object(n.useEffect)((function(){localStorage.setItem("longBreakInterval",ee)}),[ee]),Object(n.useEffect)((function(){console.log("updating auto start to "+le),localStorage.setItem("autoStartRound",le)}),[le]);var me=r.a.useState(!1),de=Object(l.a)(me,2),je=de[0],ge=de[1];return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(k.a,{maxWidth:"sm",children:[Object(o.jsxs)("div",{style:{textAlign:"center"},children:[Object(o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"auto",marginTop:"auto"},children:[Object(o.jsx)(S.a,{variant:"h5",style:{float:"left"},children:"Pomodoro"}),Object(o.jsx)(b.a,{style:{margin:"1rem"},onClick:function(){ge(!0)},variant:"contained",children:"Settings"})]}),Object(o.jsx)(p.a,{variant:"middle",style:{marginBottom:"1rem"}}),Object(o.jsxs)(I.a,{variant:"contained","aria-label":"contained primary button group",children:[Object(o.jsx)(b.a,{onClick:function(){m("pomodoro")},color:"pomodoro"===u?"primary":"default",children:"Pomodoro"}),Object(o.jsx)(b.a,{onClick:function(){m("shortBreak")},color:"shortBreak"===u?"primary":"default",children:"Short Break"}),Object(o.jsx)(b.a,{onClick:function(){m("longBreak")},color:"longBreak"===u?"primary":"default",children:"Long Break"})]}),Object(o.jsxs)(S.a,{variant:"h3",children:[U," : ",ue(G,2)]}),Object(o.jsx)(b.a,{style:{margin:"1rem"},color:"secondary",onClick:function(){t(),X?(A.start({countdown:!0,startValues:{minutes:W}}),Y(!1)):(A.pause(),Y(!0))},variant:"contained",children:X?"Play":"Pause"}),Object(o.jsx)(b.a,{color:"secondary",onClick:function(){t(),A.start({countdown:!0,startValues:{minutes:W}}),A.reset(),A.pause(),Y(!0)},variant:"contained",children:"Restart"})]}),Object(o.jsx)(f,{pomodoroTime:g,shortBreakTime:x,longBreakTime:L,longBreakInterval:ee,autoStartRound:le,setPomodoroTime:O,setShortBreakTime:C,setLongBreakTime:E,setLongBreakInterval:te,setAutoStartRound:ie,open:je,onClose:function(e){ge(!1)}})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=function(e){e&&e instanceof Function&&a.e(4).then(a.bind(null,135)).then((function(t){var a=t.getCLS,o=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),o(e),n(e),r(e),s(e)}))};c.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(C,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),P()}},[[76,1,2]]]);
//# sourceMappingURL=main.b3cb1248.chunk.js.map